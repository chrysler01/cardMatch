(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(64)},42:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=a(8),i=(a(42),a(12)),s=a(11),u=a(9),d=a(29),m=["ambulance","anchor","baby-carriage","bath","bed","beer","bell","bicycle","binoculars","bomb","book","bug","bus","camera","candy-cane","car","cloud","drum","feather","guitar","headphones","heart","helicopter","key","lightbulb","lock","moon","rocket","tv","umbrella","star","wrench"],f=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},h=function(e){return e[f(0,e.length-1)]};function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b={cards:[],matchedCards:[],selectedCards:[],time:0,difficulty:1,score:0,name:""},E=function(e,t){return{type:"CARD_SELECTED",payload:{x:e,y:t}}},y=function(){return{type:"RESET_STATE"}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CARDS":return v({},e,{difficulty:t.payload.difficulty,cards:t.payload.cards,time:Date.now()});case"CARD_SELECTED":var a=e.selectedCards.concat(e.cards.filter(function(e){return e.x===t.payload.x&&e.y===t.payload.y}));if(2===a.length){if(a[0].value===a[1].value){var n=e.matchedCards.concat(a);return n.length===e.cards.length?v({},e,{score:e.difficulty>=3?e.score+=60:e.score+=40,cards:[],selectedCards:[],matchedCards:[]}):v({},e,{score:e.score+=40,matchedCards:n,selectedCards:[]})}return-1===t.payload.x&&-1===t.payload.y?v({},e,{selectedCards:[]}):v({},e,{selectedCards:a})}return a.length>2?v({},e,{selectedCards:[]}):v({},e,{selectedCards:a});case"SET_NAME":return v({},e,{name:t.payload});case"SET_SCORE":return v({},e,{score:t.payload});case"RESET_STATE":return b;case"SET_TIME":return v({},e,{time:t.payload});default:return e}},w=a(15),O=(a(46),function(e){var t=e.value,a=e.handleClick,n=e.className,c=e.cardSize,o={width:"".concat(c,"px"),height:"".concat(c,"px")};return r.a.createElement("div",{className:n,onClick:a},r.a.createElement("div",{className:"svg-wrapper-backside"},r.a.createElement("div",{className:"svg-wrapper"},r.a.createElement(w.a,{icon:t,style:o}))))}),S=(a(47),function(e){var t=e.cards,a=e.matchedCards,c=e.selectedCards,o=e.difficulty,l=e.select,i=e.cardIcons,d=e.stateUpdated,m=e.selectAfterTimeout,f=Object(n.useState)(0),h=Object(u.a)(f,2),p=h[0],v=h[1],b=Object(n.useState)(0),E=Object(u.a)(b,2),y=E[0],g=E[1],w=Object(n.useState)([]),S=Object(u.a)(w,2),C=S[0],N=S[1],j=Object(n.useState)({}),k=Object(u.a)(j,2),T=k[0],x=k[1],A=Object(n.useState)([]),R=Object(u.a)(A,2),D=R[0],I=R[1];return Object(n.useEffect)(function(){var e=function(){v(window.innerWidth),g(window.innerHeight)};return e(),e}),Object(n.useEffect)(function(){var e=[100,80,60,40],n=[100,70,50,35],u=[100,55,35,25];N(0===t.length&&d?r.a.createElement(s.a,{to:"/scoreboard/input"}):t.map(function(t,s){var d=a.includes(t)?"card matched":c.includes(t)?"card selected":D.includes(t)?"card to-hide":"card",f=a.includes(t)||c.includes(t)?function(){}:function(){l(t.x,t.y);var e=D.concat(t);e.length>2&&(e=e.slice(2)),I(e),2===e.length&&e[0].value!==e[1].value&&(d="card to-hide",m(-1,-1,500))},h=p<=360||y<=360?u[o-1]:p<=768||y<=768?n[o-1]:e[o-1];return p>y&&y<=768&&(h-=p<=360||y<=360?10:15*(4-o===0?1:4-o)),r.a.createElement(O,{key:t.value*s+o+s,value:i[t.value],handleClick:f,className:d,cardSize:h})}));for(var f="",h=0;h<2*o;h++)f+="".concat((100/(2*o)).toFixed(2),"% ");return x({gridTemplateColumns:f,gridTemplateRows:f}),function(){D.length>=2&&I([])}},[t,c,a,p]),r.a.createElement("div",{className:"card-collection",style:T},C)}),C=a(20),N=a.n(C),j=(a(52),function(e){var t=e.name,a=e.value;return r.a.createElement("div",{className:"game-screen-property"},r.a.createElement("span",{className:"name"},"".concat(t,": ")),r.a.createElement("span",{className:"value"},"Time"!==t?a.toFixed(2):r.a.createElement(N.a,null,r.a.createElement(N.a.Minutes,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e,":")}}),r.a.createElement(N.a.Seconds,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}}))))}),k=(a(53),{select:E,initializeCards:function(e){return function(t){var a,n=[],r=[],c=[];e<=4&&e>=1?a=2*e:(a=8,e=4);for(var o=0;o<a*e;o++){var l=void 0;do{l=f(0,31)}while(-1!==c.indexOf(l));r.push(l),c.push(l)}r=r.concat(r);for(var i=0;i<a;i++)for(var s=0;s<a;s++)n.push({x:i,y:s,value:h(r)}),r.splice(r.indexOf(n[n.length-1].value),1);t({type:"INIT_CARDS",payload:{difficulty:e,cards:n}})}},selectAfterTimeout:function(e,t,a){return function(n){setTimeout(function(){n(E(e,t))},a)}}}),T=Object(l.b)(function(e){return{cards:(e=e.cardReducer).cards,matchedCards:e.matchedCards,selectedCards:e.selectedCards,time:e.time,score:e.score}},k)(function(e){var t=e.cards,a=e.matchedCards,c=e.selectedCards,o=e.difficulty,l=e.select,i=e.initializeCards,s=e.cardIcons,d=e.score,m=e.selectAfterTimeout,f=Object(n.useState)(!1),h=Object(u.a)(f,2),p=h[0],v=h[1];return Object(n.useEffect)(function(){i(o),v(!0)},[o,i]),r.a.createElement("div",{className:"game-screen-wrapper"},r.a.createElement("div",{className:"top-section"},r.a.createElement(j,{name:"Time",value:null,onStop:function(e){return function(e){return{type:"SET_TIME",payload:e}}(e)}}),r.a.createElement(j,{name:"Score",value:d})),r.a.createElement("div",{className:"bottom-section"},r.a.createElement(S,{stateUpdated:p,cards:t,matchedCards:a,selectedCards:c,select:l,difficulty:o,cardIcons:s,selectAfterTimeout:m})))}),x=(a(54),function(e){var t=e.href,a=e.text,n=e.className;return r.a.createElement("div",{className:"menu-link ".concat(n)},r.a.createElement(i.b,{to:t},a))}),A=(a(55),Object(l.b)(null,{resetState:y})(function(e){var t=e.links,a=e.resetState;Object(n.useEffect)(function(){a()},[a]);var c=t.map(function(e){return r.a.createElement(x,{key:e.href.length*e.name.length,href:e.href,className:"primary",text:e.name})});return r.a.createElement("div",{className:"menu-wrapper"},c)})),R=(a(56),Object(l.b)(null,{resetState:y})(function(e){var t=e.difficultyList,a=e.resetState;Object(n.useEffect)(function(){a()},[a]);var c=t.map(function(e,t){return r.a.createElement(x,{key:e.value*e.name.length+t,href:"/game/".concat(e.value),text:e.name,className:"primary"})});return r.a.createElement("div",{className:"difficulty-select-screen-wrapper"},c)})),D=(a(57),function(e){var t=e.name,a=e.score;return r.a.createElement("div",{className:"scoreboard-entry"},r.a.createElement("span",{className:"name"},"".concat(t,": ")),r.a.createElement("span",{className:"score"},a.toFixed(2)))}),I=(a(58),function(e){var t=e.propScoreboard,a=t;a=a.sort(function(e,t){return e.score<t.score?1:e.score>t.score?-1:0});var n=t===[]||void 0===t||0===t.length?r.a.createElement("h1",null,"Nothing to show. Play the game to get your score saved!"):a.map(function(e){return r.a.createElement(D,{key:e.score*e.name.length,score:e.score,name:e.name})});return r.a.createElement("div",{className:"scoreboard-wrapper"},r.a.createElement("header",{className:"scoreboard-header"},r.a.createElement("h4",null,"10 highest scores of all time:")),r.a.createElement("div",{className:"scoreboard-content"},n))}),_=(a(59),{setName:function(e){return{type:"SET_NAME",payload:e}},setScore:function(e){return{type:"SET_SCORE",payload:e}}}),M=Object(l.b)(function(e){return{score:(e=e.cardReducer).score,name:e.name,time:e.time}},_)(function(e){var t=e.score,a=e.name,c=e.time,o=e.setScore,l=e.setName,i=Object(n.useState)(!1),d=Object(u.a)(i,2),m=d[0],f=d[1];return r.a.createElement("div",{className:"scoreboard-input-wrapper"},m||0===t?r.a.createElement(s.a,{to:"/"}):r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=t-(Date.now()-c)/1e3;o(n),function(e,t){var a=JSON.parse(localStorage.getItem("scoreArray"))||[];if(!a.includes({score:e,name:t})){var n=a.filter(function(t){return t.score<e});if(n.length>0){var r=n.sort(function(e,t){return e.score-t.score});a[a.indexOf(r[0])]={score:e,name:t}}else a.length<10&&a.push({score:e,name:t});localStorage.setItem("scoreArray",JSON.stringify(a))}}(n,a),f(!0)}},r.a.createElement("label",{htmlFor:"name"},"Your name"),r.a.createElement("input",{type:"text",name:"name",value:a,onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Save your score")))}),P=(a(60),a(61),function(){return r.a.createElement("div",{className:"about-wrapper"},r.a.createElement("header",{className:"about-header"},r.a.createElement("h1",null,"Card matching game")),r.a.createElement("section",{className:"about-content"},r.a.createElement("p",null,"Made by Evgeni Kolodinski")))}),W=a(2),F=(a(62),Object(s.f)(function(e){var t=e.history,a=e.location;return r.a.createElement("div",{className:"back-button"},"/"===a.pathname?r.a.createElement(r.a.Fragment,null):r.a.createElement("button",{type:"button",onClick:function(){return t.goBack()}},r.a.createElement(w.a,{icon:W.c,style:{width:"2rem",height:"2rem"}})))})),L=a(17),z=(a(63),function(e){var t=e.history,a=void 0===t?null:t;L.b.add(W.a,W.b,W.d,W.e,W.f,W.g,W.h,W.i,W.j,W.k,W.l,W.m,W.n,W.o,W.p,W.q,W.r,W.s,W.t,W.u,W.v,W.w,W.x,W.y,W.z,W.A,W.B,W.C,W.E,W.F,W.D,W.G);var n=[{href:"/game/difficulty/choose",name:"Start game"},{href:"/scoreboard",name:"Scoreboard"},{href:"/about",name:"About"}],c=[{value:1,name:"Easy"},{value:2,name:"Normal"},{value:3,name:"Hard"},{value:4,name:"Very hard"}];return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(i.a,null,r.a.createElement(F,{browserHistory:a}),r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return r.a.createElement(A,{links:n})}}),r.a.createElement(s.b,{exact:!0,path:"/game/:difficulty",render:function(e){var t=e.match;return r.a.createElement(T,{difficulty:t.params.difficulty,cardIcons:m})}}),r.a.createElement(s.b,{exact:!0,path:"/game/difficulty/choose",render:function(){return r.a.createElement(R,{difficultyList:c})}}),r.a.createElement(s.b,{exact:!0,path:"/scoreboard",render:function(){return r.a.createElement(I,{propScoreboard:JSON.parse(localStorage.getItem("scoreArray"))||[]})}}),r.a.createElement(s.b,{path:"/scoreboard/input",render:function(){return r.a.createElement(M,null)}}),r.a.createElement(s.b,{path:"/about",render:function(){return r.a.createElement(P,null)}})))}),J=a(13),U=a(31),B=a(32),H=Object(J.combineReducers)({cardReducer:g}),V=Object(J.createStore)(H,Object(U.composeWithDevTools)(Object(J.applyMiddleware)(B.a))),q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!==a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(l.a,{store:V},r.a.createElement(z,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/cardmatch",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/cardmatch","/service-worker.js");q?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!==n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):G(t,e)})}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.d936f68e.chunk.js.map